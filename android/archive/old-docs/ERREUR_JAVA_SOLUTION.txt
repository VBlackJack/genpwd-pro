========================================
  ERREUR JAVA - SOLUTION RAPIDE
========================================

❌ PROBLÈME DÉTECTÉ
-------------------
L'erreur que vous rencontrez indique que vous utilisez Java 8,
mais Android Gradle Plugin 8.1.2 nécessite Java 11 MINIMUM
(Java 17 RECOMMANDÉ).

Message d'erreur typique:
"Incompatible because this component declares a component,
compatible with Java 11 and the consumer needed a component,
compatible with Java 8"


✅ SOLUTION EN 3 ÉTAPES
========================

ÉTAPE 1: Télécharger Java 17
------------------------------
Allez sur: https://adoptium.net/temurin/releases/?version=17

Choisissez:
- Version: 17 (LTS)
- Operating System: Windows
- Architecture: x64
- Package Type: JDK
- Cliquez sur ".msi" pour télécharger


ÉTAPE 2: Installer Java 17
---------------------------
1. Lancez le fichier .msi téléchargé
2. Suivez l'assistant d'installation
3. IMPORTANT: Cochez "Set JAVA_HOME variable"
4. IMPORTANT: Cochez "Add to PATH"
5. Cliquez sur "Install"

Emplacement par défaut:
C:\Program Files\Eclipse Adoptium\jdk-17.x.x-hotspot\


ÉTAPE 3: Vérifier l'installation
---------------------------------
1. Ouvrez un NOUVEAU terminal (important!)
2. Tapez: java -version
3. Vous devriez voir quelque chose comme:
   openjdk version "17.0.x" 2024-xx-xx
   OpenJDK Runtime Environment Temurin-17.0.x
   OpenJDK 64-Bit Server VM Temurin-17.0.x

Si vous voyez "17.x.x" → Succès! ✅


ÉTAPE 4: Relancer la compilation
---------------------------------
Retournez dans le dossier android/ et exécutez:

   setup.bat

Cette fois le script détectera Java 17 et tout devrait fonctionner!


========================================
⚙️ CONFIGURATION MANUELLE (SI BESOIN)
========================================

Si Java 17 est installé mais pas détecté automatiquement:

1. Définir JAVA_HOME (temporaire):
   ----------------------------------
   set JAVA_HOME=C:\Program Files\Eclipse Adoptium\jdk-17.0.11-hotspot
   set PATH=%JAVA_HOME%\bin;%PATH%

2. Définir JAVA_HOME (permanent):
   --------------------------------
   - Clic droit sur "Ce PC" > Propriétés
   - Paramètres système avancés
   - Variables d'environnement
   - Nouvelle variable système:
     * Nom: JAVA_HOME
     * Valeur: C:\Program Files\Eclipse Adoptium\jdk-17.0.11-hotspot
   - Modifier la variable PATH:
     * Ajouter: %JAVA_HOME%\bin
   - OK, OK, OK
   - Redémarrez le terminal


========================================
🔍 VÉRIFIER QUELLE VERSION EST ACTIVE
========================================

Si vous avez plusieurs versions de Java installées:

1. Vérifier la version active:
   java -version

2. Vérifier l'emplacement:
   where java

3. Si la mauvaise version est utilisée:
   - Modifiez la variable PATH
   - Mettez Java 17 EN PREMIER dans le PATH
   - Exemple:
     C:\Program Files\Eclipse Adoptium\jdk-17.x.x\bin
     (doit être AVANT les autres versions)


========================================
❓ QUESTIONS FRÉQUENTES
========================================

Q: Puis-je garder Java 8 pour d'autres projets?
R: Oui! Vous pouvez avoir plusieurs versions de Java.
   Utilisez JAVA_HOME pour basculer entre elles.

Q: Dois-je désinstaller Java 8?
R: Non, ce n'est pas nécessaire. Assurez-vous juste que
   Java 17 est utilisé pour ce projet Android.

Q: Java 11, 17, ou 21?
R: Java 17 est le meilleur choix (LTS - Support Long Terme).
   Java 11 fonctionne mais Java 17 est recommandé.
   Java 21 fonctionne aussi mais peut être trop récent.

Q: Pourquoi pas Java 8?
R: Android Gradle Plugin 8.x nécessite Java 11+.
   C'est une exigence technique de Google.


========================================
🚀 APRÈS L'INSTALLATION DE JAVA 17
========================================

Une fois Java 17 installé et vérifié:

1. Fermez TOUS les terminaux ouverts
2. Ouvrez un NOUVEAU terminal
3. Allez dans android/
4. Exécutez: setup.bat
5. Puis: build.bat

Tout devrait fonctionner! ✅


========================================
💡 LIENS UTILES
========================================

Télécharger Java 17:
https://adoptium.net/temurin/releases/?version=17

Documentation Android sur Java:
https://developer.android.com/build/jdks

Guide d'installation Java:
https://adoptium.net/installation/


========================================
🆘 TOUJOURS BLOQUÉ?
========================================

Si après avoir installé Java 17 ça ne fonctionne toujours pas:

1. Vérifiez dans un NOUVEAU terminal:
   java -version
   (doit afficher 17.x.x)

2. Vérifiez JAVA_HOME:
   echo %JAVA_HOME%
   (doit pointer vers Java 17)

3. Vérifiez le PATH:
   echo %PATH%
   (Java 17\bin doit être présent)

4. Si tout est bon mais l'erreur persiste:
   - Supprimez le dossier .gradle dans android/
   - Exécutez: clean.bat
   - Puis: setup.bat

5. En dernier recours:
   - Ouvrez le projet dans Android Studio
   - File > Settings > Build > Build Tools > Gradle
   - Gradle JDK: Sélectionnez "17"


Bonne chance! 🍀
